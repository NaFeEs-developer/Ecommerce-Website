{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{% block title %}Ecommerce Store{% endblock %}</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
	<header class="site-header">
		<div class="container header-inner">
			<a href="/" class="logo">UniShop</a>
			<form action="/" method="get" class="search-bar">
				<input type="text" name="q" placeholder="Search products..." value="{{ query|default:'' }}">
				<button type="submit">Search</button>
			</form>
			<nav class="nav">
				<a href="/cart/" class="cart-link">Cart ({{ cart_count }})</a>
				{% if request.user.is_authenticated %}
				<span>Hi, {{ request.user.username }}</span>
				<a href="/logout/">Logout</a>
				{% else %}
				<a href="/login/">Login</a>
				<a href="/register/" class="btn-primary">Register</a>
				{% endif %}
			</nav>
		</div>
		<div class="category-strip">
			<div class="container">
				{% for c in global_categories %}
					<a href="/category/{{ c.slug }}/" class="chip">{{ c.name }}</a>
				{% endfor %}
			</div>
		</div>
	</header>

	<main class="container">
		{% block content %}{% endblock %}
	</main>

	<footer class="site-footer" style="background:#121936;padding:32px 0 18px;margin-top:48px;">
		<div class="container footer-inner" style="display:flex;flex-direction:column;align-items:center;gap:16px;">
			<div style="display:flex;justify-content:center;">
				<a href="/" class="logo" style="font-size:2rem;color:#fff;text-align:center;">UniShop</a>
			</div>
			<div style="color:#bac7e3;font-size:15px;">Â© {{ now|date:"Y" }} UniShop. All rights reserved.</div>
			<div style="display:flex;gap:12px;justify-content:center;">
				<a href="#" style="color:#6d28d9;"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Instagram" style="width:24px;height:24px;vertical-align:middle;"></a>
				<a href="#" style="color:#10b981;"><img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Facebook" style="width:24px;height:24px;vertical-align:middle;"></a>
				<a href="#" style="color:#ef4444;"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="YouTube" style="width:24px;height:24px;vertical-align:middle;"></a>
			</div>
		</div>
	</footer>

	<div id="chat-widget" class="chat-widget">
		<div class="chat-header">Assistant</div>
		<div class="chat-messages" id="chat-messages"></div>
		<div class="chat-input">
			<input id="chat-text" type="text" placeholder="Ask about products..." />
			<button id="chat-send">Send</button>
		</div>
	</div>

	<script src="{% static 'js/chat.js' %}"></script>
</body>
</html>